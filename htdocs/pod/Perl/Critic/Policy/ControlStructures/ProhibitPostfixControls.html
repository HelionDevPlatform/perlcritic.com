<HTML>
<HEAD>
<TITLE>NAME</TITLE>
<BASE href="http://perlcritic.com/pod"><LINK href="/styles/pod.css" type="text/css" rel="stylesheet"></HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">
<UL>
<LI><A HREF="#NAME">NAME

</A><LI><A HREF="#AFFILIATION">AFFILIATION

</A><LI><A HREF="#DESCRIPTION">DESCRIPTION

</A><LI><A HREF="#CONFIGURATION">CONFIGURATION

</A><LI><A HREF="#NOTES">NOTES

</A><LI><A HREF="#BUGS">BUGS

</A><LI><A HREF="#AUTHOR">AUTHOR

</A><LI><A HREF="#COPYRIGHT">COPYRIGHT

</A></UL>
<HR>
<H1><A NAME="NAME">NAME

</A></H1>

<P>Perl::Critic::Policy::ControlStructures::ProhibitPostfixControls - Write <CODE>if($condition){ do_something() }</CODE> instead of <CODE>do_something() if $condition</CODE>.


</P><H1><A NAME="AFFILIATION">AFFILIATION

</A></H1>

<P>This Policy is part of the core <A HREF="Perl/Critic.html">Perl::Critic</A>
distribution.


</P><H1><A NAME="DESCRIPTION">DESCRIPTION

</A></H1>

<P>Conway discourages using postfix control structures (<CODE>if</CODE>, <CODE>for</CODE>,
<CODE>unless</CODE>, <CODE>until</CODE>, <CODE>when</CODE>, <CODE>while</CODE>) because they hide control
flow.  The <CODE>unless</CODE> and <CODE>until</CODE> controls are particularly evil
because they lead to double-negatives that are hard to comprehend.
The only tolerable usage of a postfix <CODE>if</CODE>/<CODE>when</CODE> is when it follows
a loop break such as <CODE>last</CODE>, <CODE>next</CODE>, <CODE>redo</CODE>, or <CODE>continue</CODE>.

</P>
<PRE>    do_something() if $condition;           # not ok
    if ($condition) { do_something() }      # ok

    do_something() while $condition;        # not ok
    while ($condition) { do_something() }   # ok

    do_something() unless $condition;       # not ok
    do_something() unless ! $condition;     # really bad
    if (! $condition) { do_something() }    # ok

    do_something() until $condition;        # not ok
    do_something() until ! $condition;      # really bad
    while (! $condition) { do_something() } # ok

    do_something($_) for @list;             # not ok

    LOOP:
    for my $n (0..100) {
        next if $condition;                 # ok
        last LOOP if $other_condition;      # also ok

        next when m&lt; 0 \z &gt;xms;             # fine too
    }
</PRE>
<H1><A NAME="CONFIGURATION">CONFIGURATION

</A></H1>

<P>A set of constructs to be ignored by this policy can specified by
giving a value for 'allow' of a string of space-delimited keywords:
<CODE>if</CODE>, <CODE>for</CODE>, <CODE>unless</CODE>, <CODE>until</CODE>, <CODE>when</CODE>, and/or <CODE>while</CODE>.  An
example of specifying allowed flow-control structures in a
<I>.perlcriticrc</I> file:

</P>
<PRE>    [ControlStructures::ProhibitPostfixControls]
    allow = for if until</PRE>

<P>By default, all postfix control keywords are prohibited.

</P>
<P>The set of flow-control functions that are exempt from the restriction
can also be configured with the 'flowcontrol' directive in your
<I>.perlcriticrc</I> file:

</P>
<PRE>    [ControlStructures::ProhibitPostfixControls]
    flowcontrol = warn die carp croak cluck confess goto exit</PRE>

<P>This is useful if you're using additional modules that add things like
<CODE>assert</CODE> or <CODE>throw</CODE>.


</P><H1><A NAME="NOTES">NOTES

</A></H1>

<P>The <CODE>die</CODE>, <CODE>croak</CODE>, and <CODE>confess</CODE> functions are frequently used as
flow-controls just like <CODE>next</CODE> or <CODE>last</CODE>.  So this Policy does
permit you to use a postfix <CODE>if</CODE> when the statement begins with one
of those functions.  It is also pretty common to use <CODE>warn</CODE>, <CODE>carp</CODE>,
and <CODE>cluck</CODE> with a postfix <CODE>if</CODE>, so those are allowed too.

</P>
<P>The <CODE>when</CODE> keyword was added to the language after Perl Best
Practices was written.  This policy treats <CODE>when</CODE> the same way it
does <CODE>if</CODE>, i.e. it's allowed after flow-control constructs.  Thanks
to brian d foy for the
<A HREF="http://www.effectiveperlprogramming.com/blog/543">inspiration</A>.


</P><H1><A NAME="BUGS">BUGS

</A></H1>

<P>Look for the <CODE>do {} while</CODE> case and change the explanation to point
to page 123 when it is found.  RT #37905.


</P><H1><A NAME="AUTHOR">AUTHOR

</A></H1>

<P>Jeffrey Ryan Thalhammer &lt;jeff@imaginative-software.com&gt;


</P><H1><A NAME="COPYRIGHT">COPYRIGHT

</A></H1>

<P>Copyright (c) 2005-2010 Imaginative Software Systems.  All rights reserved.

</P>
<P>This program is free software; you can redistribute it and/or modify
it under the same terms as Perl itself.  The full text of this license
can be found in the LICENSE file included with this module.

</P>
</BODY>
</HTML>
