<HTML>
<HEAD>
<TITLE>NAME</TITLE>
<BASE href="http://perlcritic.com/pod"><LINK href="/styles/pod.css" type="text/css" rel="stylesheet"></HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">
<UL>
<LI><A HREF="#NAME">NAME

</A><LI><A HREF="#AFFILIATION">AFFILIATION

</A><LI><A HREF="#DESCRIPTION">DESCRIPTION

</A><LI><A HREF="#CONFIGURATION">CONFIGURATION

</A><LI><A HREF="#TODO">TODO

</A><LI><A HREF="#BUGS">BUGS

</A><LI><A HREF="#AUTHOR">AUTHOR

</A><LI><A HREF="#COPYRIGHT">COPYRIGHT

</A></UL>
<HR>
<H1><A NAME="NAME">NAME

</A></H1>

<P>Perl::Critic::Policy::NamingConventions::Capitalization - Distinguish different program components by case.


</P><H1><A NAME="AFFILIATION">AFFILIATION

</A></H1>

<P>This Policy is part of the core <A HREF="Perl/Critic.html">Perl::Critic</A> distribution.


</P><H1><A NAME="DESCRIPTION">DESCRIPTION

</A></H1>

<P>Conway recommends to distinguish different program components by case.

</P>
<P>Normal subroutines, methods and variables are all in lower case.

</P>
<PRE>    my $foo;            # ok
    my $foo_bar;        # ok
    sub foo {}          # ok
    sub foo_bar {}      # ok

    my $Foo;            # not ok
    my $foo_Bar;        # not ok
    sub Foo     {}      # not ok
    sub foo_Bar {}      # not ok</PRE>

<P>Package and class names are capitalized.

</P>
<PRE>    package IO::Thing;     # ok
    package Web::FooBar    # ok

    package foo;           # not ok
    package foo::Bar;      # not ok</PRE>

<P>Constants are in all-caps.

</P>
<PRE>    Readonly::Scalar my $FOO = 42;  # ok

    Readonly::Scalar my $foo = 42;  # not ok</PRE>

<P>There are other opinions on the specifics, for example, in
<A HREF="perlstyle.html">perlstyle</A>.  This
policy can be configured to match almost any style that you can think of.


</P><H1><A NAME="CONFIGURATION">CONFIGURATION

</A></H1>

<P>You can specify capitalization rules for the following things:
<CODE>packages</CODE>, <CODE>subroutines</CODE>, <CODE>local_lexical_variables</CODE>,
<CODE>scoped_lexical_variables</CODE>, <CODE>file_lexical_variables</CODE>,
<CODE>global_variables</CODE>, <CODE>constants</CODE>, and <CODE>labels</CODE>.

</P>
<P><CODE>constants</CODE> are things declared via <A HREF="constant.html">constant</A> or
<A HREF="Readonly.html">Readonly</A>.

</P>
<PRE>    use constant FOO =&gt; 193;
    Readonly::Array my @BAR =&gt; qw&lt; a b c &gt;;</PRE>

<P><CODE>global_variables</CODE> are anything declared using <CODE>local</CODE>, <CODE>our</CODE>, or
<A HREF="vars.html">vars</A>.  <CODE>file_lexical_variables</CODE> are variables declared at the
file scope.

</P>
<P><CODE>scoped_lexical_variables</CODE> are variables declared inside bare blocks
that are outside of any subroutines or other control structures; these
are usually created to limit scope of variables to a given subset of
subroutines.  E.g.

</P>
<PRE>    sub foo { ... }

    {
        my $thingy;

        sub bar { ... $thingy ... }
        sub baz { ... $thingy ... }
    }</PRE>

<P>All other variable declarations are considered
<CODE>local_lexical_variables</CODE>.

</P>
<P>Each of the <CODE>packages</CODE>, <CODE>subroutines</CODE>, <CODE>local_lexical_variables</CODE>,
<CODE>scoped_lexical_variables</CODE>, <CODE>file_lexical_variables</CODE>,
<CODE>global_variables</CODE>, <CODE>constants</CODE>, and <CODE>labels</CODE> options can be
specified as one of <CODE>:single_case</CODE>, <CODE>:all_lower</CODE>, <CODE>:all_upper:</CODE>,
<CODE>:starts_with_lower</CODE>, <CODE>:starts_with_upper</CODE>, or <CODE>:no_restriction</CODE> or
a regular expression; any value that does not start with a colon,
<CODE>:</CODE>, is considered to be a regular expression.  The <CODE>:single_case</CODE>
tag means a name can be all lower case or all upper case.  If a
regular expression is specified, it is surrounded by <CODE>\A</CODE> and <CODE>\z</CODE>.

</P>
<P><CODE>packages</CODE> defaults to <CODE>:starts_with_upper</CODE>.  <CODE>subroutines</CODE>,
<CODE>local_lexical_variables</CODE>, <CODE>scoped_lexical_variables</CODE>,
<CODE>file_lexical_variables</CODE>, and <CODE>global_variables</CODE> default to
<CODE>:single_case</CODE>.  And <CODE>constants</CODE> and <CODE>labels</CODE> default to
<CODE>:all_upper</CODE>.

</P>
<P>There are corresponding <CODE>package_exemptions</CODE>,
<CODE>subroutine_exemptions</CODE>, <CODE>local_lexical_variable_exemptions</CODE>,
<CODE>scoped_lexical_variable_exemptions</CODE>,
<CODE>file_lexical_variable_exemptions</CODE>, <CODE>global_variable_exemptions</CODE>,
<CODE>constant_exemptions</CODE>, and <CODE>label_exemptions</CODE> options that are lists
of regular expressions to exempt from the corresponding capitalization
rule.  These values also end up being surrounded by <CODE>\A</CODE> and <CODE>\z</CODE>.

</P>
<P><CODE>package_exemptions</CODE> defaults to <CODE>main</CODE>.  <CODE>global_variable_exemptions</CODE>
defaults to
<CODE>\$VERSION @ISA @EXPORT(?:_OK)? %EXPORT_TAGS \$AUTOLOAD %ENV %SIG \$TODO</CODE>.
<CODE>subroutine_exemptions</CODE> defaults to
<CODE>AUTOLOAD BUILD BUILDARGS CLEAR CLOSE DELETE DEMOLISH DESTROY EXISTS EXTEND FETCH FETCHSIZE FIRSTKEY GETC NEXTKEY POP PRINT PRINTF PUSH READ READLINE SCALAR SHIFT SPLICE STORE STORESIZE TIEARRAY TIEHANDLE TIEHASH TIESCALAR UNSHIFT UNTIE WRITE</CODE>
which should cover all the standard Perl subroutines plus those from
<A HREF="Moose.html">Moose</A>.

</P>
<P>For example, if you want all local variables to be in all lower-case
and global variables to start with &quot;G_&quot; and otherwise not contain
underscores, but exempt any variable with a name that contains
&quot;THINGY&quot;, you could put the following in your <I>.perlcriticrc</I>:

</P>
<PRE>    [NamingConventions::Capitalization]
    local_lexical_variables = :all_lower
    global_variables = G_(?:(?!_)\w)+
    global_variable_exemptions = .*THINGY.*
</PRE>
<H1><A NAME="TODO">TODO

</A></H1>

<P>Handle <CODE>use vars</CODE>.  Treat constant subroutines like constant
variables.  Handle bareword file handles.  There needs to be &quot;schemes&quot;
or ways of specifying &quot;perlstyle&quot; or &quot;pbp&quot;.  Differentiate lexical
<A HREF="Readonly.html">Readonly</A> constants in scopes.


</P><H1><A NAME="BUGS">BUGS

</A></H1>

<P>This policy won't catch problems with the declaration of <CODE>$y</CODE> below:

</P>
<PRE>    for (my $x = 3, my $y = 5; $x &lt; 57; $x += 3) {
        ...
    }
</PRE>
<H1><A NAME="AUTHOR">AUTHOR

</A></H1>

<P>Multiple people


</P><H1><A NAME="COPYRIGHT">COPYRIGHT

</A></H1>

<P>Copyright (c) 2008-2011 Michael G Schwern.  All rights reserved.

</P>
<P>This program is free software; you can redistribute it and/or modify
it under the same terms as Perl itself.  The full text of this license
can be found in the LICENSE file included with this module.

</P>
</BODY>
</HTML>
