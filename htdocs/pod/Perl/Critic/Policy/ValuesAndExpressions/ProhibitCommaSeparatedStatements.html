<HTML>
<HEAD>
<TITLE>Perl::Critic::Policy::ValuesAndExpressions::ProhibitCommaSeparatedStatements</TITLE>
<LINK href="/styles/pod.css" type="text/css" rel="stylesheet"></HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">
<UL>
<LI><A HREF="#NAME">NAME

</A><LI><A HREF="#DESCRIPTION">DESCRIPTION

</A><LI><A HREF="#AUTHOR">AUTHOR

</A><LI><A HREF="#COPYRIGHT">COPYRIGHT

</A></UL>
<HR>
<H1><A NAME="NAME">NAME

</A></H1>

<P>Perl::Critic::Policy::ValuesAndExpressions::ProhibitCommaSeparatedStatements

</P><HR>
<H1><A NAME="DESCRIPTION">DESCRIPTION

</A></H1>

<P>Perl's comma statement separator has really low precedence, which
leads to code that looks like it's using the comma list element
separator not actually doing so.  Conway suggests that the statement
separator not be used in order to prevent this situation.

</P>
<P>The confusion that the statement separator causes is primarily due to
the assignment operators having higher precedence.

</P>
<P>For example, trying to combine two arrays into another like this won't
work:

</P>
<PRE>  @x = @y, @z;</PRE>

<P>because it is equivalent to

</P>
<PRE>  @x = @y;
  @z;</PRE>

<P>Conversely, there are the built-in functions, like <CODE>print</CODE>, that
normally force the rest of the statement into list context, but don't
when called like a subroutine.

</P>
<P>This is not likely to produce what is intended:

</P>
<PRE>  print join q{, }, 2, 3, 5, 7, &quot;: the single-digit primes.\n&quot;;</PRE>

<P>The obvious fix is to add parentheses.  Placing them like

</P>
<PRE>  print join( q{, }, 2, 3, 5, 7 ), &quot;: the single-digit primes.\n&quot;;</PRE>

<P>will work, but

</P>
<PRE>  print ( join q{, }, 2, 3, 5, 7 ), &quot;: the single-digit primes.\n&quot;;</PRE>

<P>will not, because it is equivalent to

</P>
<PRE>  print( join q{, }, 2, 3, 5, 7 );
  &quot;: the single-digit primes.\n&quot;;</PRE>
<HR>
<H1><A NAME="AUTHOR">AUTHOR

</A></H1>

<P>Elliot Shank <CODE>&lt;perl@galumph.com&gt;</CODE>

</P><HR>
<H1><A NAME="COPYRIGHT">COPYRIGHT

</A></H1>

<P>Copyright (c) 2007 Elliot Shank.  All rights reserved.

</P>
<P>This program is free software; you can redistribute it and/or modify
it under the same terms as Perl itself.  The full text of this license
can be found in the LICENSE file included with this module.

</P>
</BODY>
</HTML>
